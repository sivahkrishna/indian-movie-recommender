<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Movie Recommender</title>

    <!-- Bootstrap CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body.light {
        background-color: #f8f9fa;
        color: #000;
    }
        body.light .card {
        background-color: #fff;
        color: #000;
    }
    </style>

</head>
<script>
function toggleTheme() {
  document.body.classList.toggle("light");
  localStorage.setItem(
    "theme",
    document.body.classList.contains("light") ? "light" : "dark"
  );
}

window.onload = function() {
  if (localStorage.getItem("theme") === "light") {
    document.body.classList.add("light");
  }
};
</script>

<body class="bg-dark text-light">

<nav class="navbar navbar-dark bg-black">
    <div class="container">
        <a class="navbar-brand" href="/">üé¨ Movie Recommender</a>
         <div>
            {% if current_user.is_authenticated %}
                <a href="/dashboard" class="btn btn-sm btn-outline-light">Dashboard</a>
                <a href="/logout" class="btn btn-sm btn-danger">Logout</a>
                <a href="/movies" class="btn btn-sm btn-outline-light">Movies</a>
                <a href="/add-movie" class="btn btn-sm btn-outline-warning">Add Movie</a>
                <a href="/wishlist" class="btn btn-sm btn-outline-danger">
                    ‚ù§Ô∏è Wishlist
                </a>
                <button onclick="toggleTheme()" class="btn btn-sm btn-outline-light">
                    üåô / ‚òÄÔ∏è
                </button>
            {% else %}
                <a href="/login" class="btn btn-sm btn-outline-light">Login</a>
                <a href="/register" class="btn btn-sm btn-danger">Register</a>
            {% endif %}
        </div>
    </div>
</nav>

<div class="container mt-4">
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ category }}">{{ message }}</div>
            {% endfor %}
        {% endif %}
    {% endwith %}
    {% block content %}{% endblock %}
</div>

</body>
</html>
